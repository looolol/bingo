"use strict";(self.webpackChunkbingo=self.webpackChunkbingo||[]).push([["common"],{6845:(E,f,n)=>{n.d(f,{Z:()=>v});var r=n(5858),g=n(5797),m=n(3081),p=n(8764),c=n(1318),d=n(9452),_=n(6647),u=n(271),h=n(7404);let v=(()=>{class l{constructor(e){this.firestore=e,this.optionsCollection=(0,r.rJ)(this.firestore,"options"),this.localCardKey="bingoCard",this.loadingSubject=new g.t(!1),this.loading$=this.loadingSubject.asObservable()}getOptions(){return this.loadingSubject.next(!0),(0,m.H)((0,r.GG)(this.optionsCollection)).pipe((0,u.T)(e=>e.docs.map(o=>o.data().option)),(0,p.M)(e=>{console.log("Fetched options:",e),this.loadingSubject.next(!1)}),(0,c.W)(e=>(console.error("Error fetching options:",e),this.loadingSubject.next(!1),(0,d.of)([]))))}addOption(e){this.loadingSubject.next(!0);const o=(0,r.H9)(this.optionsCollection,e);return console.log(`Adding option: ${e}`),(0,m.H)((0,r.BN)(o,{option:e})).pipe((0,p.M)(()=>{console.log(`Option added: ${e}`),this.loadingSubject.next(!1)}),(0,c.W)(t=>{throw console.error("Error adding option:",t),this.loadingSubject.next(!1),t}))}removeOption(e){this.loadingSubject.next(!0);const o=(0,r.H9)(this.optionsCollection,e);return console.log(`Removing option: ${e}`),(0,m.H)((0,r.kd)(o)).pipe((0,p.M)(()=>{console.log(`Option removed: ${e}`),this.loadingSubject.next(!1)}),(0,c.W)(t=>{throw console.error("Error removing option:",t),this.loadingSubject.next(!1),t}))}getBingoCard(){return this.getLocalBingoCard().pipe((0,_.n)(e=>e?(console.log("Loaded cached bingo card:",e),(0,d.of)(e)):(console.log("No card found in cache. Generating new card."),this.generateBingoCard())),(0,c.W)(e=>{throw console.error("Error fetching or generating bingo card:",e),e}))}saveBingoCard(e){localStorage.setItem(this.localCardKey,JSON.stringify(e))}getLocalBingoCard(){const e=localStorage.getItem(this.localCardKey);return(0,d.of)(e?JSON.parse(e):null)}generateBingoCard(){return this.getOptions().pipe((0,_.n)(e=>{const o=this.createBingoCard(e);return this.saveBingoCard(o),console.log("Generated and saved new bingo card:",o),(0,d.of)(o)}),(0,c.W)(e=>{throw console.error("Error generating bingo card:",e),e}))}createBingoCard(e){const o=[],t=this.shuffleArray(e.slice());for(let s=0;s<5;s++){const i=[];for(let a=0;a<5;a++)i.push(2===s&&2===a?{option:"Free Space",marked:!0,clickable:!1}:{option:t.pop()||"",marked:!1,clickable:!0});o.push(i)}return{grid:o}}shuffleArray(e){for(let o=e.length-1;o>0;o--){const t=Math.floor(Math.random()*(o+1));[e[o],e[t]]=[e[t],e[o]]}return e}static#r=this.\u0275fac=function(o){return new(o||l)(h.KVO(r._7))};static#e=this.\u0275prov=h.jDH({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})()},1134:(E,f,n)=>{n.d(f,{D6:()=>M,LG:()=>v});var r=n(7404),g=n(316),m=n(5060);const p=["determinateSpinner"];function c(e,o){if(1&e&&(r.qSk(),r.j41(0,"svg",11),r.nrm(1,"circle",12),r.k0s()),2&e){const t=r.XpG();r.BMQ("viewBox",t._viewBox()),r.R7$(),r.xc7("stroke-dasharray",t._strokeCircumference(),"px")("stroke-dashoffset",t._strokeCircumference()/2,"px")("stroke-width",t._circleStrokeWidth(),"%"),r.BMQ("r",t._circleRadius())}}const d=new r.nKC("mat-progress-spinner-default-options",{providedIn:"root",factory:function _(){return{diameter:u}}}),u=100;let v=(()=>{class e{get color(){return this._color||this._defaultColor}set color(t){this._color=t}constructor(t,s,i){this._elementRef=t,this._defaultColor="primary",this._value=0,this._diameter=u,this._noopAnimations="NoopAnimations"===s&&!!i&&!i._forceAnimations,this.mode="mat-spinner"===t.nativeElement.nodeName.toLowerCase()?"indeterminate":"determinate",i&&(i.color&&(this.color=this._defaultColor=i.color),i.diameter&&(this.diameter=i.diameter),i.strokeWidth&&(this.strokeWidth=i.strokeWidth))}get value(){return"determinate"===this.mode?this._value:0}set value(t){this._value=Math.max(0,Math.min(100,t||0))}get diameter(){return this._diameter}set diameter(t){this._diameter=t||0}get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(t){this._strokeWidth=t||0}_circleRadius(){return(this.diameter-10)/2}_viewBox(){const t=2*this._circleRadius()+this.strokeWidth;return`0 0 ${t} ${t}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return"determinate"===this.mode?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}static#r=this.\u0275fac=function(s){return new(s||e)(r.rXU(r.aKT),r.rXU(r.bc$,8),r.rXU(d))};static#e=this.\u0275cmp=r.VBU({type:e,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(s,i){if(1&s&&r.GBs(p,5),2&s){let a;r.mGM(a=r.lsd())&&(i._determinateCircle=a.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:18,hostBindings:function(s,i){2&s&&(r.BMQ("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow","determinate"===i.mode?i.value:null)("mode",i.mode),r.HbH("mat-"+i.color),r.xc7("width",i.diameter,"px")("height",i.diameter,"px")("--mdc-circular-progress-size",i.diameter+"px")("--mdc-circular-progress-active-indicator-width",i.diameter+"px"),r.AVh("_mat-animation-noopable",i._noopAnimations)("mdc-circular-progress--indeterminate","indeterminate"===i.mode))},inputs:{color:"color",mode:"mode",value:[2,"value","value",r.Udg],diameter:[2,"diameter","diameter",r.Udg],strokeWidth:[2,"strokeWidth","strokeWidth",r.Udg]},exportAs:["matProgressSpinner"],standalone:!0,features:[r.GFd,r.aNF],decls:14,vars:11,consts:[["circle",""],["determinateSpinner",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(s,i){if(1&s&&(r.DNE(0,c,2,8,"ng-template",null,0,r.C5r),r.j41(2,"div",2,1),r.qSk(),r.j41(4,"svg",3),r.nrm(5,"circle",4),r.k0s()(),r.joV(),r.j41(6,"div",5)(7,"div",6)(8,"div",7),r.eu8(9,8),r.k0s(),r.j41(10,"div",9),r.eu8(11,8),r.k0s(),r.j41(12,"div",10),r.eu8(13,8),r.k0s()()()),2&s){const a=r.sdS(1);r.R7$(4),r.BMQ("viewBox",i._viewBox()),r.R7$(),r.xc7("stroke-dasharray",i._strokeCircumference(),"px")("stroke-dashoffset",i._strokeDashOffset(),"px")("stroke-width",i._circleStrokeWidth(),"%"),r.BMQ("r",i._circleRadius()),r.R7$(4),r.Y8G("ngTemplateOutlet",a),r.R7$(2),r.Y8G("ngTemplateOutlet",a),r.R7$(2),r.Y8G("ngTemplateOutlet",a)}},dependencies:[g.T3],styles:[".mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0;position:relative;direction:ltr;transition:opacity 250ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-progress-spinner circle{stroke-width:var(--mdc-circular-progress-active-indicator-width)}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1;animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color, var(--mat-app-primary))}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}"],encapsulation:2,changeDetection:0})}return e})(),M=(()=>{class e{static#r=this.\u0275fac=function(s){return new(s||e)};static#e=this.\u0275mod=r.$C({type:e});static#t=this.\u0275inj=r.G2t({imports:[g.MD,m.yE]})}return e})()}}]);
//# sourceMappingURL=common.d0e29d65a1839b4c.js.map